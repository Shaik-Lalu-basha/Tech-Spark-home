<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SREC - Secure Quiz Examination</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Pre-exam screen styles */
        .pre-exam-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
        }

        .pre-exam-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
        }

        .exam-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .exam-instructions {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 30px;
            text-align: left;
        }

        .instruction-item {
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            border-left: 4px solid #ffd700;
        }

        .warning-text {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff4757;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
            color: #ff4757;
        }

        .start-exam-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .start-exam-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 107, 107, 0.6);
        }

        /* Violation warning modal */
        .violation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 0, 0, 0.9);
            z-index: 20000;
            display: none;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .violation-content {
            background: rgba(0, 0, 0, 0.8);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
        }

        .violation-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: pulse 1s infinite;
        }

        .violation-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .violation-message {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .countdown {
            font-size: 48px;
            font-weight: bold;
            color: #ff4757;
            margin: 20px 0;
            animation: pulse 1s infinite;
        }

        /* Security overlay */
        .security-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 0, 0, 0.8);
            z-index: 15000;
            display: none;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
        }

        /* Exam status indicator */
        .exam-status {
            position: fixed;
            top: 10px;
            right: 20px;
            background: #27ae60;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            z-index: 1002;
            display: none;
            animation: pulse 2s infinite;
        }

        .exam-status.violation {
            background: #e74c3c;
            animation: shake 0.5s ease-in-out infinite;
        }

        /* Main quiz styles */
        .header {
            background: #fff;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounceIn {
            0% { transform: scale(0) rotate(180deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(-10deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        /* College header styles */
        .college-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .college-logo {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .college-title {
            font-size: 34px;
            color: red;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(67, 42, 42, 0.4), 0 0 25px rgba(255, 0, 0, 0.5);
        }

        .college-details p {
            margin: 5px 0;
            font-weight: bold;
        }

        .autonomous {
            color: #1e88e5;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 18px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(30, 136, 229, 0.5);
        }

        .approval {
            color: #43a047;
            font-size: 12px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .accreditation {
            color: #424242;
            font-size: 12px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        .ugc {
            font-size: 12px;
            color: #d32f2f;
            text-decoration: underline;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .address {
            font-size: 12px;
            color: #0288d1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .welcome {
            font-size: 25px;
            color: #2e7d32;
            text-transform: uppercase;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(56, 142, 60, 0.5);
            margin-top: 15px;
        }

        .logos-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            animation: bounceIn 0.8s ease-out;
        }

        .logo:hover {
            transform: scale(1.2) rotate(5deg);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .section-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            animation: slideUp 0.8s ease-out 0.5s both;
            flex-wrap: wrap;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .section-btn {
            padding: 15px 30px;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            margin: 5px;
        }

        .section-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .section-btn:hover::before { left: 100%; }

        .section-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }

        .section-btn.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .section-btn.completed {
            background: linear-gradient(45deg, #27ae60, #229954);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .container {
            display: flex;
            min-height: calc(100vh - 300px);
            position: relative;
        }

        .sidebar {
            position: fixed;
            left: -350px;
            top: 300px;
            width: 350px;
            height: calc(100vh - 300px);
            background: linear-gradient(135deg, #2c3e50, #34495e);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            overflow-y: auto;
            border-radius: 0 15px 15px 0;
            box-shadow: 5px 0 20px rgba(0,0,0,0.3);
        }

        .sidebar.open {
            left: 0;
            animation: slideInLeft 0.4s ease-out;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        .menu-toggle {
            position: fixed;
            top: 310px;
            left: 20px;
            z-index: 1001;
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            width: 60px;
            height: 60px;
        }

        .menu-toggle:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        .question-nav {
            padding: 30px 20px;
        }

        .nav-title {
            color: #ecf0f1;
            font-size: 20px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .section-progress {
            margin-bottom: 25px;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .section-title {
            color: #3498db;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .progress-text {
            color: #ecf0f1;
            font-size: 12px;
            text-align: right;
        }

        .question-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .question-btn {
            padding: 12px;
            background: #34495e;
            color: #ecf0f1;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
        }

        .question-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .question-btn:hover::before {
            width: 100px;
            height: 100px;
        }

        .question-btn:hover {
            transform: scale(1.1);
            background: #3498db;
        }

        .question-btn.current {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
            50% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
        }

        .question-btn.answered {
            background: linear-gradient(45deg, #27ae60, #229954);
            animation: bounceScale 0.5s ease;
        }

        @keyframes bounceScale {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .main-content {
            flex: 1;
            padding: 30px;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        .quiz-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
            animation: fadeInUp 0.8s ease-out;
            transform-origin: center bottom;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(50px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        .timer-bar {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
            height: 6px;
            width: 100%;
            transition: width 1s linear;
            position: relative;
            overflow: hidden;
        }

        .timer-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .quiz-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
            flex-wrap: wrap;
            gap: 10px;
        }

        .quiz-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .question-counter {
            font-size: 20px;
            font-weight: bold;
            z-index: 1;
            position: relative;
        }

        .section-indicator {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            z-index: 1;
            position: relative;
        }

        .timer {
            font-size: 28px;
            font-weight: bold;
            background: rgba(255,255,255,0.2);
            padding: 12px 24px;
            border-radius: 30px;
            z-index: 1;
            position: relative;
            animation: timerPulse 1s ease-in-out infinite alternate;
        }

        @keyframes timerPulse {
            from { transform: scale(1); }
            to { transform: scale(1.05); }
        }

        .question-content {
            padding: 40px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .question {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 35px;
            line-height: 1.6;
            animation: slideInQuestion 0.6s ease-out;
        }

        @keyframes slideInQuestion {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            padding: 20px 25px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-size: 16px;
            position: relative;
            overflow: hidden;
            animation: slideInOption 0.5s ease-out;
            animation-fill-mode: both;
        }

        .option:nth-child(1) { animation-delay: 0.1s; }
        .option:nth-child(2) { animation-delay: 0.2s; }
        .option:nth-child(3) { animation-delay: 0.3s; }
        .option:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideInOption {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2980b9);
            transition: width 0.3s ease;
            z-index: -1;
        }

        .option:hover {
            transform: translateX(10px) scale(1.02);
            border-color: #3498db;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
        }

        .option:hover::before { width: 100%; }
        .option:hover { color: white; }

        .option.selected {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-color: #2980b9;
            transform: translateX(10px) scale(1.02);
            animation: selectedPulse 0.5s ease;
        }

        @keyframes selectedPulse {
            0% { transform: translateX(10px) scale(1.02); }
            50% { transform: translateX(10px) scale(1.08); }
            100% { transform: translateX(10px) scale(1.02); }
        }

        .controls {
            padding: 30px 40px;
            background: #f8f9fa;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-btn {
            padding: 15px 35px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
        }

        .prev-btn {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .next-btn, .submit-btn {
            background: linear-gradient(45deg, #27ae60, #229954);
            color: white;
        }

        .submit-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            animation: submitGlow 2s ease-in-out infinite alternate;
        }

        @keyframes submitGlow {
            from { box-shadow: 0 0 5px rgba(231, 76, 60, 0.5); }
            to { box-shadow: 0 0 20px rgba(231, 76, 60, 0.8), 0 0 30px rgba(231, 76, 60, 0.4); }
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-btn:hover::before { left: 100%; }

        .nav-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Score Card Styles */
        .score-card {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            animation: fadeIn 0.5s ease-out;
        }

        .score-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
            min-width: 500px;
            max-width: 90%;
            animation: bounceInScale 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes bounceInScale {
            0% { transform: translate(-50%, -50%) scale(0.3); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .score-title {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .total-score {
            font-size: 48px;
            color: #e74c3c;
            font-weight: bold;
            margin: 20px 0;
            animation: countUp 2s ease-out;
        }

        @keyframes countUp {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        .section-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .section-score {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            animation: slideInUp 0.6s ease-out;
            animation-fill-mode: both;
        }

        .section-score:nth-child(1) { animation-delay: 0.2s; }
        .section-score:nth-child(2) { animation-delay: 0.4s; }
        .section-score:nth-child(3) { animation-delay: 0.6s; }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-name {
            font-weight: bold;
            color: #3498db;
            margin-bottom: 10px;
        }

        .section-points {
            font-size: 24px;
            color: #2c3e50;
            font-weight: bold;
        }

        .close-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .round2-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
        }

        .round2-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
        }

        .violation-reason {
            color: #e74c3c;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            background: rgba(231, 76, 60, 0.1);
            border-radius: 10px;
            border-left: 4px solid #e74c3c;
        }

        /* Hide main content initially */
        .main-app {
            display: none;
        }

        .main-app.exam-started {
            display: block;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .exam-title { font-size: 24px; }
            .start-exam-btn { padding: 15px 30px; font-size: 16px; }
            .pre-exam-content { padding: 20px; }
            
            .college-title { font-size: 24px; }
            .welcome { font-size: 18px; }
            .logos-row { gap: 15px; }
            .logo { width: 60px; height: 60px; font-size: 12px; }
            
            .section-btn { padding: 12px 20px; font-size: 14px; }
            .sidebar { width: 300px; left: -300px; }
            .question-content { padding: 20px; }
            .question { font-size: 20px; }
            .section-scores { grid-template-columns: 1fr; }
            .score-content { min-width: 90%; margin: 0 5%; }
            
            .quiz-header { 
                flex-direction: column; 
                text-align: center; 
                gap: 15px; 
            }
            
            .controls { 
                flex-direction: column; 
                gap: 15px; 
            }
            
            .nav-btn { 
                width: 100%; 
                max-width: 200px; 
            }
        }

        @media (max-width: 480px) {
            .header { padding: 10px; }
            .college-title { font-size: 20px; }
            .section-selector { 
                flex-direction: column; 
                gap: 10px; 
                padding: 15px; 
            }
            .question { font-size: 18px; }
            .option { font-size: 14px; padding: 15px 20px; }
            .timer { font-size: 20px; padding: 8px 16px; }
            .question-counter { font-size: 16px; }
        }
    </style>
</head>
<body>
    <!-- Pre-exam screen -->
    <div class="pre-exam-screen" id="preExamScreen">
        <div class="pre-exam-content">
            <div class="exam-title">🎓 SREC Quiz Championship 2025</div>
            
            <div class="exam-instructions">
                <div class="instruction-item">
                    <strong>📋 Exam Instructions:</strong><br>
                    • Total Questions: 60 (20 per section)<br>
                    • Time per Question: 60 seconds<br>
                    • Sections: Aptitude, Logical Thinking, General Knowledge
                </div>
                
                <div class="instruction-item">
                    <strong>⚠️ Security Guidelines:</strong><br>
                    • Once started, the exam will enter fullscreen mode<br>
                    • Do not minimize, switch tabs, or open other applications<br>
                    • Any violation will result in automatic submission
                </div>
                
                <div class="instruction-item">
                    <strong>📱 Technical Requirements:</strong><br>
                    • Stable internet connection required<br>
                    • Use only keyboard and mouse for navigation<br>
                    • Ensure browser allows fullscreen mode
                </div>
            </div>
            
            <div class="warning-text">
                ⚠️ WARNING: This is a proctored examination. Any attempt to cheat, switch tabs, or leave fullscreen mode will automatically submit your exam with current answers.
            </div>
            
            <button class="start-exam-btn" onclick="startExam()">
                🚀 START EXAMINATION
            </button>
            <br><br>
            <div style="margin-bottom: 5px;">
    Developed by <strong>Shaik Lalu Basha</strong> | 📞 <a href="tel:+919876543210" style="color: #60a5fa; text-decoration: none;">+91 7993417685</a>
  </div>
  <div>
    🔋 Powered by <strong style="color: #34d399;">ESCORT TECH HUB</strong>
  </div>
        </div>
    </div>
<!-- Add this after the violation modal div (around line 280) -->
<audio id="violationSound" preload="auto">
    <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq1jWzaODnIaZr6SElp2kpJeipJuRm5uYnIyJm5SHnJ2OkZOZj5qWl5qVnZiXmpWYmZGMnpJuQ1RL" type="audio/wav">
</audio>
    <!-- Violation warning modal -->
    <div class="violation-modal" id="violationModal">
        <div class="violation-content">
            <div class="violation-icon">🚨</div>
            <div class="violation-title">EXAM VIOLATION DETECTED!</div>
            <div class="violation-message" id="violationMessage">
                You have violated exam security protocols.
            </div>
            <div class="countdown" id="violationCountdown">5</div>
            <div>Exam will be submitted automatically...</div>
        </div>
    </div>

    <!-- Security overlay -->
    <div class="security-overlay" id="securityOverlay">
        <div>
            🔒 SECURE EXAM MODE ACTIVE<br>
            Return to exam window immediately
        </div>
    </div>

    <!-- Exam status indicator -->
    <div class="exam-status" id="examStatus">
        🟢 EXAM IN PROGRESS
    </div>

    <!-- Main application (hidden initially) -->
    <div class="main-app" id="mainApp">
        <div class="header">
            <!-- College Header -->
            <div class="college-header">
                <img src="logo.jpg" alt="College Logo" class="college-logo" />
                <h1 class="college-title">Santhiram Engineering College</h1>
            </div>

            <!-- College Info -->
            <div class="college-details">
                <p class="autonomous">(AUTONOMOUS)</p>
                <p class="approval">Approved by AICTE: New Delhi, Permanently Affiliated to JNT University, Ananthapuramu.</p>
                <p class="accreditation">Accredited by NAAC (Grade-A), Accredited by NBA (ECE & CSE)</p>
                <p class="ugc">ISO 9001:2015 Certified Institution, 2(f) & 12(B) recognition by UGC Act, 1956</p>
                <p class="address">NH-40, Nandyal - 518501, A. P.</p>
                <p class="welcome">WELCOME TO QUIZ CHAMPIONSHIP 2025!</p>
            </div>

            <!-- Logos Row -->
            <div class="logos-row">
                <div class="logo"><img src="power.jpg" alt="Power Logo" /></div>
                <div class="logo"><img src="nacc.jpg" alt="NAAC Logo" /></div>
                <div class="logo"><img src="nba.jpg" alt="NBA Logo" /></div>
            </div>
        </div>
<style>/* College header styles (from original code) */
        .college-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .college-logo {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .college-title {
            font-size: 34px;
            color: red;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(67, 42, 42, 0.4), 0 0 25px rgba(255, 0, 0, 0.5);
        }

        .college-details p {
            margin: 10px 0;
            font-weight: bold;
        }

        .autonomous {
            color: #1e88e5;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 18px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(30, 136, 229, 0.5);
        }

        .approval {
            color: #43a047;
            font-size: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .accreditation {
            color: #424242;
            font-size: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        .ugc {
            font-size: 10px;
            color: #d32f2f;
            text-decoration: underline;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .address {
            font-size: 10px;
            color: #0288d1;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .welcome {
            font-size: 25px;
            color: #2e7d32;
            text-transform: uppercase;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2), 0 0 10px rgba(56, 142, 60, 0.5);
            margin-top: 20px;
        }

        .logos-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }

        @media (max-width: 768px) {
            .college-name { font-size: 24px; }
            .event-name { font-size: 18px; }
            .logos { gap: 15px; }
            .logo { width: 60px; height: 60px; font-size: 14px; }
            .sidebar { width: 300px; left: -300px; }
            .question-content { padding: 20px; }
            .question { font-size: 20px; }
            .section-scores { grid-template-columns: 1fr; }
            .score-content { min-width: 90%; margin: 0 5%; }
            .pre-exam-content { padding: 20px; }
            .exam-title { font-size: 24px; }
            .start-exam-btn { padding: 15px 30px; font-size: 16px; }
        }
</style>
        <div class="section-selector">
            <button class="section-btn active" onclick="switchSection(0)">Section 1: Aptitude</button>
            <button class="section-btn" onclick="switchSection(1)">Section 2: Logical Thinking</button>
            <button class="section-btn" onclick="switchSection(2)">Section 3: General Knowledge</button>
        </div>

        <button class="menu-toggle" onclick="toggleSidebar()">☰</button>

        <div class="container">
            <div class="sidebar" id="sidebar">
                <div class="question-nav">
                    <div class="nav-title">Question Navigation</div>
                    <div id="sectionProgress"></div>
                    <div class="question-grid" id="questionGrid"></div>
                </div>
            </div>

            <div class="main-content">
                <div class="quiz-container">
                    <div class="timer-bar" id="timerBar"></div>
                    <div class="quiz-header">
                        <div class="question-counter" id="questionCounter">Question 1 of 20</div>
                        <div class="section-indicator" id="sectionIndicator">Section 1: Aptitude</div>
                        <div class="timer" id="timer">01:00</div>
                    </div>
                    <div class="question-content">
                        <div class="question" id="question"></div>
                        <div class="options" id="options"></div>
                    </div>
                    <div class="controls">
                        <button class="nav-btn prev-btn" id="prevBtn" onclick="previousQuestion()">← Previous</button>
                        <button class="nav-btn next-btn" id="nextBtn" onclick="nextQuestion()">Next →</button>
                        <button class="nav-btn submit-btn" id="submitBtn" onclick="submitQuiz()" style="display: none;">🏆 Submit Quiz</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Score Card Modal -->
    <div class="score-card" id="scoreCard">
        <div class="score-content">
            <div class="score-title">🎉 Quiz Completed! 🎉</div>
            <div class="total-score" id="totalScore">0/60</div>
            <div class="section-scores">
                <div class="section-score">
                    <div class="section-name">Aptitude</div>
                    <div class="section-points" id="aptitudeScore">0/20</div>
                </div>
                <div class="section-score">
                    <div class="section-name">Logical Thinking</div>
                    <div class="section-points" id="logicalScore">0/20</div>
                </div>
                <div class="section-score">
                    <div class="section-name">General Knowledge</div>
                    <div class="section-points" id="gkScore">0/20</div>
                </div>
            </div>
            <div class="violation-reason" id="violationReason" style="display: none;"></div>
            <button class="close-btn" onclick="closeScoreCard()">Close</button>
            <button class="round2-btn" id="round2Btn" onclick="proceedToRound2()" style="display: none;">
                🚀 Proceed to Round 2
            </button>
        </div>
    </div>

    <script>
        // Security and exam management variables
        let examStarted = false;
        let examSubmitted = false;
        let violationCount = 0;
        let securityMonitoring = false;
        let examStartTime = null;
        let violationTypes = [];

        // Quiz variables
        const sections = [
            {
                name: "Aptitude",
                questions: [
                    { question: "If a train travels 240 km in 3 hours, what is its speed in km/hr?", options: ["60", "70", "80", "90"], correct: 2 },
                    { question: "What is 25% of 80?", options: ["15", "20", "25", "30"], correct: 1 },
                    { question: "If x + 5 = 12, what is the value of x?", options: ["5", "6", "7", "8"], correct: 2 },
                    { question: "What is the area of a rectangle with length 8m and width 6m?", options: ["48 sq m", "42 sq m", "36 sq m", "54 sq m"], correct: 0 },
                    { question: "If 3x = 21, what is x?", options: ["6", "7", "8", "9"], correct: 1 },
                    { question: "What is the next number in the series: 2, 4, 8, 16, ?", options: ["24", "28", "32", "36"], correct: 2 },
                    { question: "If a book costs $15 and is sold at 20% profit, what is the selling price?", options: ["$16", "$17", "$18", "$19"], correct: 2 },
                    { question: "What is the square root of 144?", options: ["10", "11", "12", "13"], correct: 2 },
                    { question: "If 2/3 of a number is 24, what is the number?", options: ["32", "36", "40", "42"], correct: 1 },
                    { question: "What is 15% of 200?", options: ["25", "30", "35", "40"], correct: 1 },
                    { question: "If a car travels 150 km in 2.5 hours, what is its average speed?", options: ["50 km/hr", "55 km/hr", "60 km/hr", "65 km/hr"], correct: 2 },
                    { question: "What is the perimeter of a square with side 7 cm?", options: ["21 cm", "28 cm", "35 cm", "49 cm"], correct: 1 },
                    { question: "If 4x - 3 = 17, what is x?", options: ["4", "5", "6", "7"], correct: 1 },
                    { question: "What is 12 × 8?", options: ["84", "88", "92", "96"], correct: 3 },
                    { question: "If a triangle has angles 60°, 60°, what is the third angle?", options: ["50°", "55°", "60°", "65°"], correct: 2 },
                    { question: "What is 144 ÷ 12?", options: ["10", "11", "12", "13"], correct: 2 },
                    { question: "If the ratio of boys to girls is 3:2 and there are 15 boys, how many girls are there?", options: ["8", "9", "10", "12"], correct: 2 },
                    { question: "What is the compound interest on $1000 at 10% per annum for 2 years?", options: ["$200", "$210", "$220", "$230"], correct: 1 },
                    { question: "If 5 workers can complete a job in 8 days, how many days will 10 workers take?", options: ["3", "4", "5", "6"], correct: 1 },
                    { question: "What is the value of 2³ + 3²?", options: ["15", "16", "17", "18"], correct: 2 }
                ]
            },
            {
                name: "Logical Thinking",
                questions: [
                    { question: "If all roses are flowers and some flowers are red, which is definitely true?", options: ["All roses are red", "Some roses are red", "All flowers are roses", "Some roses may be red"], correct: 3 },
                    { question: "What comes next in the pattern: A, C, F, J, ?", options: ["M", "N", "O", "P"], correct: 2 },
                    { question: "If CODING is written as DPEJOH, how is LOGIC written?", options: ["MPHJD", "MPHID", "MPHJE", "MPGID"], correct: 0 },
                    { question: "Five friends A, B, C, D, E are sitting in a row. A is to the left of B, C is to the right of D, E is between A and C. Who is in the middle?", options: ["A", "B", "C", "E"], correct: 3 },
                    { question: "If Monday is the 1st, what day is the 15th?", options: ["Monday", "Tuesday", "Wednesday", "Thursday"], correct: 0 },
                    { question: "In a certain code, CAT = 24, DOG = 26. What is the code for BIRD?", options: ["34", "35", "36", "37"], correct: 2 },
                    { question: "Which number doesn't belong: 2, 3, 6, 7, 8, 14, 15, 30?", options: ["2", "6", "8", "30"], correct: 2 },
                    { question: "If you rearrange the letters 'CIFAIPC', you get the name of a:", options: ["Ocean", "Country", "City", "Animal"], correct: 0 },
                    { question: "What is the missing number: 1, 4, 9, 16, ?, 36", options: ["20", "24", "25", "30"], correct: 2 },
                    { question: "If all cats have tails and Fluffy is a cat, what can we conclude?", options: ["Fluffy has a tail", "Fluffy is black", "Fluffy likes milk", "Fluffy is big"], correct: 0 },
                    { question: "Which word is the odd one out: TRIANGLE, SQUARE, CIRCLE, RECTANGLE?", options: ["TRIANGLE", "SQUARE", "CIRCLE", "RECTANGLE"], correct: 2 },
                    { question: "If 2 = 6, 3 = 12, 4 = 20, then 5 = ?", options: ["25", "30", "35", "40"], correct: 1 },
                    { question: "What comes next: 1, 1, 2, 3, 5, 8, ?", options: ["11", "12", "13", "15"], correct: 2 },
                    { question: "If EARTH is coded as 51234, how is HEART coded?", options: ["35142", "35124", "25134", "45132"], correct: 0 },
                    { question: "A clock shows 3:15. What is the angle between the hour and minute hands?", options: ["0°", "7.5°", "15°", "22.5°"], correct: 1 },
                    { question: "Which number should replace the question mark: 2, 6, 18, 54, ?", options: ["108", "162", "216", "324"], correct: 1 },
                    { question: "If WATER is to THIRSTY as FOOD is to:", options: ["HUNGRY", "FULL", "TASTE", "EAT"], correct: 0 },
                    { question: "What is the next letter in the series: A, D, G, J, ?", options: ["K", "L", "M", "N"], correct: 2 },
                    { question: "If today is Wednesday, what day will it be after 100 days?", options: ["Monday", "Tuesday", "Wednesday", "Friday"], correct: 3 },
                    { question: "Which number is different from others: 121, 144, 169, 196, 225?", options: ["121", "144", "169", "196"], correct: 1 }
                ]
            },
            {
                name: "General Knowledge",
                questions: [
                    { question: "Who is known as the 'Father of the Nation' in India?", options: ["Jawaharlal Nehru", "Mahatma Gandhi", "Subhas Chandra Bose", "Sardar Patel"], correct: 1 },
                    { question: "What is the capital of Australia?", options: ["Sydney", "Melbourne", "Canberra", "Perth"], correct: 2 },
                    { question: "Which planet is known as the Red Planet?", options: ["Venus", "Mars", "Jupiter", "Saturn"], correct: 1 },
                    { question: "Who wrote the novel 'Pride and Prejudice'?", options: ["Charlotte Bronte", "Emily Bronte", "Jane Austen", "Virginia Woolf"], correct: 2 },
                    { question: "What is the largest ocean on Earth?", options: ["Atlantic", "Indian", "Arctic", "Pacific"], correct: 3 },
                    { question: "In which year did World War II end?", options: ["1944", "1945", "1946", "1947"], correct: 1 },
                    { question: "What is the chemical symbol for gold?", options: ["Go", "Gd", "Au", "Ag"], correct: 2 },
                    { question: "Which country has the most natural lakes?", options: ["Finland", "Canada", "Russia", "Sweden"], correct: 1 },
                    { question: "Who painted the Mona Lisa?", options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Michelangelo"], correct: 2 },
                    { question: "What is the smallest country in the world?", options: ["Monaco", "San Marino", "Vatican City", "Liechtenstein"], correct: 2 },
                    { question: "Which is the longest river in the world?", options: ["Amazon", "Nile", "Yangtze", "Mississippi"], correct: 1 },
                    { question: "What is the hardest natural substance on Earth?", options: ["Gold", "Iron", "Diamond", "Platinum"], correct: 2 },
                    { question: "Who invented the telephone?", options: ["Thomas Edison", "Alexander Graham Bell", "Nikola Tesla", "Benjamin Franklin"], correct: 1 },
                    { question: "Which gas makes up most of Earth's atmosphere?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"], correct: 2 },
                    { question: "What is the currency of Japan?", options: ["Yuan", "Won", "Yen", "Ringgit"], correct: 2 },
                    { question: "Which mountain range contains Mount Everest?", options: ["Andes", "Rockies", "Himalayas", "Alps"], correct: 2 },
                    { question: "Who was the first person to walk on the moon?", options: ["Buzz Aldrin", "Neil Armstrong", "John Glenn", "Alan Shepard"], correct: 1 },
                    { question: "What is the largest mammal in the world?", options: ["African Elephant", "Blue Whale", "Giraffe", "Hippopotamus"], correct: 1 },
                    { question: "Which element has the chemical symbol 'Fe'?", options: ["Fluorine", "Iron", "Francium", "Fermium"], correct: 1 },
                    { question: "What is the most spoken language in the world?", options: ["English", "Spanish", "Mandarin Chinese", "Hindi"], correct: 0 }
                ]
            }
        ];

        let currentSection = 0;
        let currentQuestion = 0;
        let timeLeft = 60;
        let timer;
        let answers = [
            new Array(20).fill(-1),
            new Array(20).fill(-1),
            new Array(20).fill(-1)
        ];
        let sectionCompleted = [false, false, false];

        // Security functions
        function startExam() {
            if (examStarted) return;
            
            examStarted = true;
            examStartTime = Date.now();
            
            document.getElementById('preExamScreen').style.display = 'none';
            document.getElementById('mainApp').classList.add('exam-started');
            
            enterFullscreen();
            document.getElementById('examStatus').style.display = 'block';
            startSecurityMonitoring();
            initializeQuiz();
            disableShortcuts();
            
            console.log('Exam started in secure mode');
        }

        function enterFullscreen() {
            const element = document.documentElement;
            
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
        }

        function exitFullscreen() {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        }

        function startSecurityMonitoring() {
            securityMonitoring = true;
            
            document.addEventListener('visibilitychange', handleVisibilityChange);
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('msfullscreenchange', handleFullscreenChange);
            window.addEventListener('blur', handleWindowBlur);
            window.addEventListener('focus', handleWindowFocus);
            document.addEventListener('keydown', handleKeyboardShortcuts);
            
            console.log('Security monitoring started');
        }

        function handleVisibilityChange() {
            if (!examStarted || examSubmitted) return;
            
            if (document.hidden) {
                recordViolation('Tab switching detected');
                showViolationWarning('TAB SWITCHING DETECTED!', 'You switched to another tab or minimized the browser.');
            }
        }

        function handleFullscreenChange() {
            if (!examStarted || examSubmitted) return;
            
            if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
                recordViolation('Exited fullscreen mode');
                showViolationWarning('FULLSCREEN MODE EXITED!', 'You exited fullscreen mode during the exam.');
            }
        }

        function handleWindowBlur() {
            if (!examStarted || examSubmitted) return;
            
            recordViolation('Window lost focus');
            document.getElementById('securityOverlay').style.display = 'flex';
            updateExamStatus('🔴 FOCUS LOST', true);
        }

        function handleWindowFocus() {
            if (!examStarted || examSubmitted) return;
            
            document.getElementById('securityOverlay').style.display = 'none';
            updateExamStatus('🟢 EXAM IN PROGRESS', false);
        }

        function handleKeyboardShortcuts(e) {
            if (!examStarted || examSubmitted) return;
            
            const blockedKeys = ['F12', 'F5', 'PrintScreen'];
            const blockedCombinations = [
                { ctrl: true, key: 'r' },
                { ctrl: true, key: 'w' },
                { ctrl: true, key: 't' },
                { ctrl: true, key: 'n' },
                { ctrl: true, key: 'j' },
                { ctrl: true, key: 'h' },
                { ctrl: true, key: 'u' },
                { ctrl: true, key: 's' },
                { ctrl: true, shift: true, key: 'i' },
                { ctrl: true, shift: true, key: 'j' },
                { ctrl: true, shift: true, key: 'c' },
                { alt: true, key: 'Tab' },
                { alt: true, key: 'F4' }
            ];
            
            if (blockedKeys.includes(e.key)) {
                e.preventDefault();
                recordViolation(`Blocked key: ${e.key}`);
                return false;
            }
            
            for (let combo of blockedCombinations) {
                if ((combo.ctrl && e.ctrlKey) || (combo.alt && e.altKey) || (combo.shift && e.shiftKey)) {
                    if (e.key.toLowerCase() === combo.key.toLowerCase()) {
                        e.preventDefault();
                        recordViolation(`Blocked combination: ${JSON.stringify(combo)}`);
                        return false;
                    }
                }
            }
        }

        function disableShortcuts() {
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                recordViolation('Right-click attempted');
                return false;
            });
            
            document.addEventListener('selectstart', (e) => {
                if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                    e.preventDefault();
                    return false;
                }
            });
            
            document.addEventListener('dragstart', (e) => {
                e.preventDefault();
                return false;
            });
        }

        function recordViolation(type) {
            violationCount++;
            violationTypes.push({
                type: type,
                timestamp: new Date().toISOString(),
                questionContext: `Section ${currentSection + 1}, Question ${currentQuestion + 1}`
            });
            
            console.warn(`Security Violation #${violationCount}: ${type}`);
            updateExamStatus(`⚠️ VIOLATION: ${type}`, true);
            
            if (violationCount >= 3) {
                setTimeout(() => {
                    submitQuiz(true, `Multiple violations detected (${violationCount} total)`);
                }, 1000);
            }
        }
function showViolationWarning(title, message) {
    if (examSubmitted) return;
    
    const modal = document.getElementById('violationModal');
    const titleEl = modal.querySelector('.violation-title');
    const messageEl = document.getElementById('violationMessage');
    const countdownEl = document.getElementById('violationCountdown');
    
    titleEl.textContent = title;
    messageEl.textContent = message;
    modal.style.display = 'flex';
    
    // Play warning sound
    const violationSound = document.getElementById('violationSound');
    violationSound.play().catch(e => console.log('Audio play failed:', e));
    
    updateExamStatus('🚨 VIOLATION DETECTED', true);
    
    let countdown = 5;
    const countdownTimer = setInterval(() => {
    countdownEl.textContent = countdown;
    
    // Add pulsing effect during countdown
    countdownEl.style.transform = 'scale(1.2)';
    setTimeout(() => {
        countdownEl.style.transform = 'scale(1)';
    }, 300);
    
    // Play beep sound during countdown
    if (countdown > 0) {
        playWarningSound(); // or violationSound.play()
    }
    
    countdown--;
    
    if (countdown < 0) {
        clearInterval(countdownTimer);
        modal.style.display = 'none';
        
        if (violationCount >= 3) {
            autoSubmitExam('Multiple security violations');
        } else {
            updateExamStatus('🟢 EXAM IN PROGRESS', false);
        }
    }
}, 1000);
}
// Add this function at the beginning of the script section (around line 50)
function playWarningSound() {
    try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = 800; // Warning frequency
        oscillator.type = 'square';
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.5);
    } catch (e) {
        console.log('Audio context failed:', e);
    }
}

        function updateExamStatus(text, isViolation = false) {
            const statusEl = document.getElementById('examStatus');
            statusEl.textContent = text;
            
            if (isViolation) {
                statusEl.classList.add('violation');
            } else {
                statusEl.classList.remove('violation');
            }
        }

        function autoSubmitExam(reason) {
            if (examSubmitted) return;
            
            examSubmitted = true;
            clearInterval(timer);
            
            console.log(`Auto-submitting exam: ${reason}`);
            calculateAndShowScore(reason);
            securityMonitoring = false;
            exitFullscreen();
            updateExamStatus('🔴 EXAM SUBMITTED', true);
        }

        // Quiz functions
        function initializeQuiz() {
            createQuestionNavigation();
            displayQuestion();
            startTimer();
            updateNavigationButtons();
            updateSectionProgress();
        }

        function switchSection(sectionIndex) {
            if (sectionIndex === currentSection || !examStarted || examSubmitted) return;
            
            clearInterval(timer);
            currentSection = sectionIndex;
            currentQuestion = 0;
            
            document.querySelectorAll('.section-btn').forEach((btn, index) => {
                btn.classList.remove('active');
                if (index === sectionIndex) {
                    btn.classList.add('active');
                }
            });
            
            createQuestionNavigation();
            displayQuestion();
            startTimer();
            updateNavigationButtons();
            updateSectionProgress();
        }

        function createQuestionNavigation() {
            const questionGrid = document.getElementById('questionGrid');
            const sectionProgress = document.getElementById('sectionProgress');
            
            questionGrid.innerHTML = '';
            
            const progressPercentage = (answers[currentSection].filter(a => a !== -1).length / 20) * 100;
            sectionProgress.innerHTML = `
                <div class="section-title">${sections[currentSection].name}</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${progressPercentage}%"></div>
                </div>
                <div class="progress-text">${answers[currentSection].filter(a => a !== -1).length}/20 answered</div>
            `;
            
            for (let i = 0; i < 20; i++) {
                const btn = document.createElement('button');
                btn.className = 'question-btn';
                btn.textContent = i + 1;
                btn.onclick = () => navigateToQuestion(i);
                
                if (i === currentQuestion) {
                    btn.classList.add('current');
                }
                if (answers[currentSection][i] !== -1) {
                    btn.classList.add('answered');
                }
                
                questionGrid.appendChild(btn);
            }
        }

        function navigateToQuestion(questionIndex) {
            if (questionIndex === currentQuestion || !examStarted || examSubmitted) return;
            
            clearInterval(timer);
            currentQuestion = questionIndex;
            displayQuestion();
            startTimer();
            updateNavigationButtons();
            createQuestionNavigation();
        }

        function displayQuestion() {
            const question = sections[currentSection].questions[currentQuestion];
            
            document.getElementById('questionCounter').textContent = `Question ${currentQuestion + 1} of 20`;
            document.getElementById('sectionIndicator').textContent = `Section ${currentSection + 1}: ${sections[currentSection].name}`;
            document.getElementById('question').textContent = question.question;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(index);
                
                if (answers[currentSection][currentQuestion] === index) {
                    optionDiv.classList.add('selected');
                }
                
                optionsContainer.appendChild(optionDiv);
            });
        }

        function selectOption(optionIndex) {
            if (!examStarted || examSubmitted) return;
            
            answers[currentSection][currentQuestion] = optionIndex;
            
            document.querySelectorAll('.option').forEach((option, index) => {
                option.classList.remove('selected');
                if (index === optionIndex) {
                    option.classList.add('selected');
                }
            });
            
            createQuestionNavigation();
            updateSectionProgress();
            updateSectionButtons();
        }

        function startTimer() {
            timeLeft = 60;
            updateTimerDisplay();
            
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    nextQuestion();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            const percentage = (timeLeft / 60) * 100;
            document.getElementById('timerBar').style.width = `${percentage}%`;
            
            if (timeLeft <= 10) {
                document.getElementById('timer').style.color = '#e74c3c';
                document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #e74c3c, #c0392b)';
            } else {
                document.getElementById('timer').style.color = 'white';
                document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #e74c3c, #c0392b)';
            }
        }

        function previousQuestion() {
            if (currentQuestion === 0 || !examStarted || examSubmitted) return;
            
            clearInterval(timer);
            currentQuestion--;
            displayQuestion();
            startTimer();
            updateNavigationButtons();
            createQuestionNavigation();
        }

        function nextQuestion() {
            if (!examStarted || examSubmitted) return;
            
            clearInterval(timer);
            
            if (currentQuestion < 19) {
                currentQuestion++;
                displayQuestion();
                startTimer();
            } else {
                if (currentSection < 2) {
                    currentSection++;
                    currentQuestion = 0;
                    switchSection(currentSection);
                } else {
                    submitQuiz();
                    return;
                }
            }
            
            updateNavigationButtons();
            createQuestionNavigation();
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            
            if (currentSection === 2 && currentQuestion === 19) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'inline-block';
            } else {
                nextBtn.style.display = 'inline-block';
                submitBtn.style.display = 'none';
            }
        }

        function updateSectionProgress() {
            const progressPercentage = (answers[currentSection].filter(a => a !== -1).length / 20) * 100;
            const sectionProgress = document.getElementById('sectionProgress');
            
            if (sectionProgress) {
                sectionProgress.innerHTML = `
                    <div class="section-title">${sections[currentSection].name}</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: ${progressPercentage}%"></div>
                    </div>
                    <div class="progress-text">${answers[currentSection].filter(a => a !== -1).length}/20 answered</div>
                `;
            }
        }

        function updateSectionButtons() {
            document.querySelectorAll('.section-btn').forEach((btn, index) => {
                const answered = answers[index].filter(a => a !== -1).length;
                
                btn.classList.remove('completed', 'active');
                
                if (index === currentSection) {
                    btn.classList.add('active');
                }
                
                if (answered === 20) {
                    btn.classList.add('completed');
                    sectionCompleted[index] = true;
                }
            });
        }

        function submitQuiz(forced = false, reason = '') {
            if (examSubmitted) return;
            
            if (!forced) {
                const unanswered = getTotalUnanswered();
                if (unanswered > 0) {
                    if (!confirm(`You have ${unanswered} unanswered questions. Are you sure you want to submit?`)) {
                        return;
                    }
                }
            }
            
            examSubmitted = true;
            clearInterval(timer);
            
            calculateAndShowScore(reason);
            securityMonitoring = false;
            exitFullscreen();
            updateExamStatus('🔴 EXAM SUBMITTED', false);
        }

        function getTotalUnanswered() {
            let unanswered = 0;
            for (let i = 0; i < 3; i++) {
                unanswered += answers[i].filter(a => a === -1).length;
            }
            return unanswered;
        }

        function calculateAndShowScore(violationReason = '') {
            const scores = [0, 0, 0];
            let totalScore = 0;
            
            for (let sectionIndex = 0; sectionIndex < 3; sectionIndex++) {
                for (let questionIndex = 0; questionIndex < 20; questionIndex++) {
                    const userAnswer = answers[sectionIndex][questionIndex];
                    const correctAnswer = sections[sectionIndex].questions[questionIndex].correct;
                    
                    if (userAnswer === correctAnswer) {
                        scores[sectionIndex]++;
                        totalScore++;
                    }
                }
            }
            
            document.getElementById('totalScore').textContent = `${totalScore}/60`;
            document.getElementById('aptitudeScore').textContent = `${scores[0]}/20`;
            document.getElementById('logicalScore').textContent = `${scores[1]}/20`;
            document.getElementById('gkScore').textContent = `${scores[2]}/20`;
            
            if (violationReason) {
                const violationEl = document.getElementById('violationReason');
                violationEl.textContent = `Exam submitted due to: ${violationReason}`;
                violationEl.style.display = 'block';
            }
            
            const round2Btn = document.getElementById('round2Btn');
            if (totalScore >= 25 && !violationReason) {
                round2Btn.style.display = 'inline-block';
                round2Btn.innerHTML = `🚀 Proceed to Round 2 (Score: ${totalScore}/60)`;
            } else {
                round2Btn.style.display = 'none';
            }
            
            document.getElementById('scoreCard').style.display = 'block';
            
            console.log('Quiz Results:', {
                totalScore: totalScore,
                sectionScores: scores,
                qualifiedForRound2: totalScore >= 25 && !violationReason,
                violationReason: violationReason
            });
        }

        function proceedToRound2() {
            alert('🎉 Congratulations! You have qualified for Round 2. You will be redirected to the next level.');
            // Add your Round 2 logic here
            window.location.href = 'https://shaik-lalu-basha.github.io/Tech-Spark/';
        }

        function closeScoreCard() {
            document.getElementById('scoreCard').style.display = 'none';
        }

        function toggleSidebar() {
            if (!examStarted || examSubmitted) return;
            
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // Event listeners
        window.addEventListener('load', () => {
            console.log('SREC Quiz System Loaded');
            console.log('Security features: Fullscreen mode, tab switching detection, shortcut blocking');
        });

        window.addEventListener('beforeunload', (e) => {
            if (examStarted && !examSubmitted) {
                e.preventDefault();
                e.returnValue = 'Are you sure you want to leave the exam?';
                recordViolation('Attempted to leave page');
                return 'Are you sure you want to leave the exam?';
            }
        });

        document.addEventListener('touchstart', () => {
            if (examStarted && !examSubmitted && document.hidden) {
                recordViolation('Mobile app switching detected');
            }
        });

        document.addEventListener('copy', (e) => {
            if (examStarted && !examSubmitted) {
                e.preventDefault();
                recordViolation('Copy attempt blocked');
                return false;
            }
        });

        document.addEventListener('paste', (e) => {
            if (examStarted && !examSubmitted) {
                e.preventDefault();
                recordViolation('Paste attempt blocked');
                return false;
            }
        });

        window.addEventListener('beforeprint', (e) => {
            if (examStarted && !examSubmitted) {
                e.preventDefault();
                recordViolation('Print attempt blocked');
                return false;
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.key === 'PrintScreen' && examStarted && !examSubmitted) {
                recordViolation('Screenshot attempt detected');
            }
        });

        if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.addEventListener('touchmove', (e) => {
                if (e.touches.length > 1 && examStarted && !examSubmitted) {
                    e.preventDefault();
                    recordViolation('Multi-touch gesture detected');
                }
            });
        }

        window.addEventListener('online', () => {
            if (examStarted && !examSubmitted) {
                console.log('Network connection restored');
                updateExamStatus('🟢 EXAM IN PROGRESS', false);
            }
        });

        window.addEventListener('offline', () => {
            if (examStarted && !examSubmitted) {
                console.log('Network connection lost');
                updateExamStatus('🔴 NO INTERNET', true);
                recordViolation('Network disconnection');
            }
        });

        window.addEventListener('error', (e) => {
            if (examStarted && !examSubmitted) {
                console.error('Runtime error during exam:', e.error);
                recordViolation(`Runtime error: ${e.message}`);
            }
        });

        window.addEventListener('unhandledrejection', (e) => {
            if (examStarted && !examSubmitted) {
                console.error('Unhandled promise rejection during exam:', e.reason);
                recordViolation(`Promise rejection: ${e.reason}`);
            }
        });

        // Performance monitoring
        function monitorPerformance() {
            if (typeof performance !== 'undefined' && performance.memory) {
                const memory = performance.memory;
                if (memory.usedJSHeapSize > memory.jsHeapSizeLimit * 0.9) {
                    recordViolation('High memory usage detected');
                }
            }
        }

        setInterval(() => {
            if (examStarted && !examSubmitted) {
                monitorPerformance();
            }
        }, 60000);

        // Initialize everything
        console.log('SREC Secure Quiz System Initialized');
        console.log('Click "START EXAMINATION" to begin');
    </script>
</body>
    <footer style="background: #1f2937; color: white; padding: 20px 10px; text-align: center; font-family: 'Segoe UI', sans-serif; font-size: 14px;">
  <div style="margin-bottom: 5px;">
    Developed by <strong>Shaik Lalu Basha</strong> | 📞 <a href="tel:+91 7993417685" style="color: #60a5fa; text-decoration: none;">+91 7993417685</a>
  </div>
  <div>
    🔋 Powered by <strong style="color: #34d399;">ESCORT TECH HUB</strong>
  </div>
</footer>

</html>


